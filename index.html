<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Editor Layout Akun</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen flex flex-col items-center justify-center" style="background-color: #FFD700;">
  <h1 class="text-2xl font-bold mb-4">Editor Layout Akun (HD)</h1>

  <!-- Upload -->
  <label class="bg-blue-600 text-white px-4 py-2 rounded cursor-pointer mb-3">
    ðŸ“‚ Pilih Gambar
    <input type="file" id="upload" multiple accept="image/*" class="hidden">
  </label>

  <!-- Pilih layout -->
  <div class="flex gap-2 mb-4">
    <select id="layout" class="p-2 border rounded">
      <option value="2">2 Kolom</option>
      <option value="3">3 Kolom</option>
      <option value="4">4 Kolom</option>
      <option value="5">5 Kolom</option>
      <option value="6">6 Kolom</option>
      <option value="7">7 Kolom</option>
      <option value="8">8 Kolom</option>
      <option value="9">9 Kolom</option>
      <option value="10">10 Kolom</option>
      <option value="11">11 Kolom</option>
      <option value="12">12 Kolom</option>
      <option value="13">13 Kolom</option>
      <option value="14">14 Kolom</option>
      <option value="15">15 Kolom</option>
    </select>

    <!-- Pilih kualitas -->
    <select id="quality" class="p-2 border rounded">
      <option value="1">Normal (1x)</option>
      <option value="2">Tajam (2x)</option>
      <option value="3" selected>Super Tajam (3x)</option>
      <option value="5">Ultra HD (5x)</option>
    </select>
  </div>

  <!-- Preview -->
  <div id="preview" class="grid gap-1 w-full max-w-5xl"></div>

  <!-- Download -->
  <button id="download" class="mt-4 bg-green-600 text-white px-4 py-2 rounded">ðŸ’¾ Simpan Jadi Gambar (HD)</button>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script>
    const upload = document.getElementById("upload");
    const layout = document.getElementById("layout");
    const preview = document.getElementById("preview");
    const downloadBtn = document.getElementById("download");
    const quality = document.getElementById("quality");

    let files = [];

    function render() {
      const cols = layout.value;
      preview.className = `grid gap-1 w-full max-w-5xl grid-cols-${cols}`;
      preview.style.backgroundColor = "#FFD700"; // kuning emas
      preview.innerHTML = "";

      files.forEach(file => {
        const img = document.createElement("img");
        img.src = URL.createObjectURL(file);
        img.className = "w-full h-auto object-cover"; // tajam, kotak biasa
        img.loading = "lazy";
        preview.appendChild(img);
      });
    }

    upload.addEventListener("change", e => {
      files = Array.from(e.target.files);
      render();
    });

    layout.addEventListener("change", render);

    downloadBtn.addEventListener("click", () => {
      const scale = parseInt(quality.value); // ambil pilihan kualitas
      html2canvas(preview, { 
        backgroundColor: "#FFD700", 
        scale: scale // sesuai pilihan user
      }).then(canvas => {
        const link = document.createElement("a");
        link.download = `layout_hd_${scale}x.png`;
        link.href = canvas.toDataURL("image/png", 1.0);
        link.click();
      });
    });
  </script>
</body>
</html>